{% extends "base_cd.html" %}
{% include "alerts.html" %}
{% load bootstrap4 %}{% load widget_tweaks %}

{% block content %}

    <div class="container">

        <div class="row justify-content-center">
            <div class="col-lg-6 pad-30">
                <h4>Sign Up</h4>
                <form method="POST" action="{% url 'registration:signup' %}">

                    {% csrf_token %}

                    <div class="input-group">
                        {% render_field form.username placeholder="Username" class="input form-control my-field" %} 
                    </div>
                    <div class="input-group">
                        {% render_field form.email placeholder="Email" class="input form-control my-field" %} 
                    </div>
                    <div class="input-group">
                        {% render_field form.password1 placeholder="Password" class="input form-control my-field" %}
                    </div>
                    <div class="input-group">
                        {% render_field form.password2 placeholder="Confirm Password" class="form-control my-field" %}
                    </div>

                    {% if form.errors %}
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            {% for field_errors in form.errors.values %}
                                {% for error in field_errors %}
                                    <strong>{{ error }}</strong>                                
                                {% endfor %}
                            {% endfor %}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% else %}
                        <div class="my-field">
                            <ul>
                                <li>Your password can’t be too similar to your other personal information. </li>
                                <li>Your password must contain at least 8 characters. </li>
                                <li>Your password can’t be a commonly used password.</li>
                                <li>Your password can’t be entirely numeric.</li>
                            </ul>
                        </div>
                    {% endif %}

                    {% if request.GET.next %}
                    <input type="hidden" name="next" value="{{ request.GET.next }}" />
                    {% endif %}
                    <input type="submit" class="btn btn-success btn-lg" value="Sign up">
                </form>
            </div>
        </div>

    </div>

{% endblock %}

