{% extends "base_cd.html" %}
{% load static %}

{% block header %}
<link rel="stylesheet" href="{% static 'css/daily.css' %}">


<title>Count Down Daily Challenge</title>
{% endblock  %}


{% block content %}
<div style="min-height: 100vh;">
    <div class="row">
        <div class="col-md-8 offset-md-2 justify-content-center">

            <div class="game-heading-wrapper game-heading">Multiplayer Daily Challenge</div> 
            <p class="maintxt"> 
                Welcome to The Multiplayer Countdown game.  You can play this online version of classic TV show with other players.  Simply 
                click on the start button to generate Letters, Numbers, and Conundrum rounds.  Points are awarded for each round and you can login / signup to submit your total score at the end of the game.
                A new game is generated daily.
                <br/>  <br/>

                <a href="#myModal" class="btn btn-lg btn-info" data-bs-toggle="modal">how to Play ?</a>
                    
                <!-- Modal HTML How to play instructions-->
                <div id="myModal" class="modal fade">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">How To Play</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="daily-index-wrapper">
                                    <div class="howto-play-modal">
                                        <h4>Letters Game</h4> In this first round 3 vowles and 6 consonants are randomly generated by the game. 
                                        You can click on the letters to make the longest word possible.  Each letter is only used once.  
                                        You can save the word and try to make another.  You should submit the longest word at the end of round.
                                        If the word is in the dictionary you score according to the length of the word.
                                        <img src="{% static 'images/wrd.png' %}" style="margin-top: auto;">
                                    </div>
                                    <div class="howto-play-modal">
                                        <h4>Numbers Game</h4>
                                            One large and 5 small numbers are generated along with a target that is a whole number between 101 and 999.
                                            Use the on screen calculator to try and get the target number or get as close as possible.  
                                            You can save a number that is a result of an arithmatic operation between two generated numbers.  
                                            Then click on the saved number to perform another operation.
                                            If you make the target the timer will stop and remaining time is added to boost your score.  
                                            <img src="{% static 'images/num.png' %}" style="margin-top: auto;">

                                        </div>
                                    <div class="howto-play-modal">
                                        <h4>Conundrum Game</h4>The conundrum is a 9 letter anagram that has been shuffled by the game.  
                                        Click on the letters in correct order to make the word.  Again the remaining time is added to the score.
                                        <img src="{% static 'images/cnd.png' %}" style="margin-top: auto;">

                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>

                <br/> 
            <div class="daily-index-wrapper">
                <div class="daily-index-content">
                    <h4 class="text-center">Todays Game</h4>
                    This  Auto Generated Game consists of three rounds.  Letters round, Numbers round and the Conundrum round.
                    <p class="daily-index-button">  
                        <a href="{%  url 'daily_game:letters' %}">
                            <button class="btnControl" style="float: right;">Start Game</button> 
                        </a>    
                    </p>
                </div>

                <div class="daily-index-content">
                    <h4>Games Archive</h4>
                    Play any of the previous games.

                    <p class="daily-index-button">   
                        <a href="{%  url 'daily_game:gamelist' %}">
                            <button class="btnControl" style="float: right;">Games Archive</button> 
                        </a>
                    </p>
                </div>

                <div class="daily-index-content">
                    <h4>Scores</h4>
                    View Leaders Board. You can submit your scores if you are logged in.
                    <p class="daily-index-button">  
                       <a href="{%  url 'daily_game:results' %}">
                           <button class="btnControl" style="float: right;">Scores</button> 
                       </a>
                    </p>
                </div>

            </div>
        </div>
    </div>
    <div class="row row-wrapper">
        <div class="col-md-8 offset-md-2 justify-content-center">
            <div class="container">
                <h2>Recent Scores</h2>
                <p></p>                                                                                      
                <div class="table-responsive">          
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Player   </th>
                                <th>Totals   </th>
                                <th>Letters  </th>
                                <th>Numbers  </th>
                                <th>Conundrum</th>
                                <th>Game     </th>
                            </tr>
                        </thead>
                        <tbody>
                        {% if scores %}
                            {% for s in scores %}
                            <tr>
                                <td>{{ s.player  }}         </td>
                                <td>{{ s.score_total }}     </td>
                                <td>{{ s.score_letters }}   </td>
                                <td>{{ s.score_numbers }}   </td>
                                <td>{{ s.score_conundrum }} </td>
                                <td>{{ s.game }} </td>
                            </tr>
                            {% endfor %}
                        {% endif %}
                        </tbody>
                    </table>
                </div>  <!--TABLE DIV ENDS HERE-->    
            </div>  <!-- CONTAINER DIV ENDS HERE-->
        </div>
    </div>   <!-- END OF ROW HERE-->

</div>  <!--LAST TAG BEFORE FOOTER-->
<script>
    sessionStorage.setItem('archivedGame', false)
    sessionStorage.removeItem('letString');
    sessionStorage.removeItem('numString');
    sessionStorage.removeItem('myTarget');
    sessionStorage.removeItem('cndword');
    sessionStorage.removeItem('game_id');
    console.log("wtf - removeItem(please)")
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
</script>
{% endblock  %}


